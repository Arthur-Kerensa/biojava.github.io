<h2 id="comment-obtenir-les-features-et-les-annotations-graphiquement-sous-la-forme-dun-arbre">Comment obtenir les Features et les Annotations graphiquement sous la forme d’un arbre?</h2>

<p>Sachant que les <em>Sequences</em> peuvent contenir des <em>Annotations</em>, avec
leurs paires de clé-valeur, et des <em>Features</em>, et que ces <em>Features</em>
peuvent contenir des information, des <em>Annotations</em> et des <em>Features</em>
imbriqués, capables aussi de contenir d’autres <em>Annotations</em>, <em>Features</em>
imbriqués, etc, il est facile de concevoir qu’une représentation
graphique sous forme d’un arbre structuré serait d’une grande utilité.</p>

<p>Heureusement, la joyeuse équipe BioJava a crée la classe <em>FeatureTree</em>
pour vous faire voir comment cet arbre se présente. <em>FeatureTree</em>
prolonge la composante JTree et peut facilement être utilisé dans un
interface graphique. Les données utilisées pour créer l’arbre
proviennent d’un objet <em>SequenceDB</em> lui-même crée suite à la lecture
d’un fichier texte</p>

<p>Le programme suivant démontre l’utilisation d’un <em>FeatureTree</em>. Il
prends deux arguments: le premier est le nom du fichier, le deuxième est
un entier désignant le format des données.</p>

<java> import java.awt.\*; import java.awt.event.\*; import java.io.\*;

import javax.swing.\*;

import org.biojava.bio.gui.\*; import org.biojava.bio.seq.\*; import
org.biojava.bio.seq.db.\*; import org.biojava.bio.seq.io.\*;

public class TreeFrame extends JFrame {

`  private JPanel jPanel = new JPanel();`  
`  private JScrollPane jScrollPane1 = new JScrollPane();`  
`  private BorderLayout borderLayout = new BorderLayout();`  
`  private FeatureTree featureTree = new FeatureTree();`

`  public TreeFrame() {`  
`    try {`  
`       init();`  
`    }`  
`    catch(Exception e) {`  
`     e.printStackTrace();`  
`    }`  
`  }`

`  /**`  
`   * Ce programme peut lire les fichiers en format supporté par SeqIOTools et `  
`   * dessiné ces Sequence, Annotations et Features sous forme d"arbre. Il prend   `  
`   * deux arguments: le 1er est le nom du fichier, le 2emeest une constante entière`  
`   * pour définir le type de fichier avec SeqIOTools. Consulter API pour SeqIOTools  `  
`   * pour les types possibles.  `  
`   *`  
`   * Les constantes valides sont :`  
`   *`  
`   * FASTADNA = 1;`  
`   * FASTAPROTEIN = 2;`  
`   * EMBL = 3;`  
`   * GENBANK = 4;`  
`   * SWISSPROT = 5;`  
`   * GENPEPT = 6;`  
`   *`  
`   */`  
`   public static void main(String[] args) throws Exception{`

`   //lire le fichier de séquence`  
`   BufferedReader br = new BufferedReader(new FileReader(args[0]));`  
`   `  
`   //obtenir le format du fichier à partir de la ligne de commande`  
`   int type = Integer.parseInt(args[1]);`

`   //lire les séquences dans une DB servant de modèle pour l'arbre`  
`   SequenceDB db = new HashSequenceDB();`  
`   SequenceIterator iter = (SequenceIterator)SeqIOTools.fileToBiojava(type, br);`  
`   while(iter.hasNext()){`  
`     db.addSequence(iter.nextSequence());`  
`   }`  
`   UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());`  
`   TreeFrame treeFrame = new TreeFrame();`  
`   //dicter que la SequenceDB servira de source de données`  
`   treeFrame.getFeatureTree().setSequenceDB(db);`  
`   treeFrame.pack();`  
`   treeFrame.show();`  
`   }`

`   private void init() throws Exception {`  
`     jPanel.setLayout(borderLayout);`  
`     this.setTitle("FeatureTree Demo");`  
`     this.getContentPane().add(jPanel, BorderLayout.CENTER);`  
`     jPanel.add(jScrollPane1,  BorderLayout.CENTER);`  
`     jScrollPane1.getViewport().add(featureTree, null);`  
`   }`

`   public FeatureTree getFeatureTree() {`  
`     return featureTree;`  
`   }`

`   protected void processWindowEvent(WindowEvent we){`  
`     if(we.getID() == WindowEvent.WINDOW_CLOSING){`  
`        System.exit(0);`  
`     }`  
`     else{`  
`        super.processWindowEvent(we);`  
`     }`  
` }`

} </java>

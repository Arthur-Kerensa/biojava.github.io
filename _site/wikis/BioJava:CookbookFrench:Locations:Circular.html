<h2 id="comment-fonctionne-les-circularlocations">Comment fonctionne les CircularLocations?</h2>

<p>Certains types de molécules d’ADN, comme les plasmides et les
chromosomes bactériens, sont circulaires. Les positions sur une molécule
circulaire sont donc spécifiées relativement à une origine fixée de
façon arbitraire.</p>

<p>Dans BioJava, les <em>SymbolLists</em> circulaires n’existent pas. Les
<em>Symbols</em> sous-jacents sont stockés ultimement comme un tableau de
pointeurs vers des <em>Symbols</em>. Un effet de cicularité peut être simuler
en utilisant un objet <em>CircularView</em> (qui implemente <em>SymbolListView</em>).</p>

<p>Dans une <em>SymbolList</em>, il est impossible d’accéder à un <em>Symbol</em> en
utilisant une <em>Location</em> qui se trouve à l’extérieur de la <em>SymbolList</em>.
Essayer d’obtenir le <em>Symbol</em> à la position 0 ou length+1 lancera une
exception de type <em>IndexOutOfBounds</em>. Dnas le cas d’une <em>CircularView</em>,
il est tout a fait possible de rechercher le <em>Symbol</em> à 0 ou -5 et de
s’attendre à obtenir ce <em>Symbol</em>. Parce que BioJava utilise un système
de coordonnées biologique, une <em>Sequence</em> se numérote de 1 à length.</p>

<p>Il n’y a pas de limite sur l’indexage d’une <em>CircularView</em> et une
convention particulière est utilisée pour la numérotation. Le <em>Symbol</em> à
l’index 1 est le premier <em>Symbol</em> de la <em>SymbolList</em> sous-jacente. Le
<em>Symbol</em> à l’index 0 est la base précédent immédiatement le <em>Symbol</em> 1
et, dans ce cas, est aussi la dernière base de la <em>SymbolList</em>
sous-jacente.</p>

<p>La classe <em>CircularLocation</em> s’occupe des objets <em>CircularLocations</em>. La
meilleure façon de créer des <em>CircularLocations</em> est de les contruire
avec la classe <em>LocationTools</em>. L’exmple ci-dessous montre comment
faire.</p>

<p><strong>Note:</strong> La recette suivante ne fonctionne bien qu’avec des versions
récentes de BioJava, 1.3 et plus.</p>

<java> import org.biojava.bio.seq.\*; import org.biojava.bio.symbol.\*;

public class SpecifyCircular {

` public static void main(String[] args) {`  
`   try {`  
`     Location[] locs = new Location[3];`  
`     //créer une CircularLocation spécifiant les positions 3-8 d'un 20mer`  
`     locs[0] = LocationTools.makeCircularLocation(3,8,20);`  
`     //créer une CircularLocation spécifiant les positions 0-4 d'un 20mer`  
`     locs[1] = LocationTools.makeCircularLocation(0,4,20);`  
`     //créer une CircularLocation spécifiant les positions 18-24 d'un 20mer`  
`     locs[2] = LocationTools.makeCircularLocation(18,24,20);`

`     for (int i = 0; i &lt; locs.length; i++){`  
`       //imprimer la position`  
`       System.out.println("Location: "+locs[i].toString());`

`       //créer une SymbolList`  
`       SymbolList sl = DNATools.createDNA("gcagctaggcggaaggagct");`  
`       System.out.println("SymbolList: "+sl.seqString());`

`       //obtenir la SymbolList spécifiée par la CircularLocation`  
`       SymbolList sym = locs[i].symbols(sl);`  
`       System.out.println("Symbol specified by Location: "+sym.seqString());`  
`     }`  
`   }`  
`   catch (IllegalSymbolException ex) {`  
`     //si on utilise un Symbol illégal pour créer sl`  
`     ex.printStackTrace();`  
`   }`  
` }`

} </java>

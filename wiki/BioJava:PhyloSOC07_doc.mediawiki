== <Documentation for the PhyloSoC2007> ==


'''Treesbolck.java (biojavax\bio\phylo\io\nexus\Treesblock.java)'''


----

'''getTree'''

getTree method takes in a label from the user and returns a tree that matches the label. For example, if you want to get a tree labeled as "mammalian" from the TreesBlock t, you can use this method as follows.
                       

     Object mytree = t.getTree("mammalian");


From the parsed TreesBlock t, getTree() look up for a specific "mammalian" tree and returns it as an Object variable.  



     <Sample Code>
                    
     import java.io.*;
     import java.lang.*;
     import java.util.*;
                
     import org.biojavax.bio.phylo.io.nexus.*;
     import org.jgrapht.*;
     import org.jgrapht.graph.*;
                 
     public class SampleGetTree{
                                               	
        public static void main(String [] args) throws Exception {	
                                                                                	
 	     String label = "sample";
             TreesBlock sample_tree = new TreesBlock();
             TreesBlock.NewickTreeString temp = new TreesBlock.NewickTreeString();
             Object sample;
                                                 	
             temp.setTreeString("( 1, ( 2, 3))");
             sample_tree.addTree( "sample", temp); 
             // add a tree w/ label "sample" and NewickTreeString (1,(2,3))
                                                                
             sample = sample_tree.getTree("sample");
             System.out.println(sample.toString());
                                       
        } // end of main 
     }                          


             

----

'''addTree (Unweighted Tree)'''


addTree is a method to register a new tree to the TreesBlock (specifically, to the Map of trees). Especially, addTree method for an unweighted tree takes in a tree label as well as a tree graph, that is represented as undirectedGraph (unweighted, as well) in JGraphT. From this sample code, you can see how to generate a unweighted(undirected) graph in terms of JGraphT and how to call a addTree method.


     <Sample Code>
     //package NexParser;
                    
     import java.io.*;
     import java.lang.*;
     import java.util.*;
                    
     import org.biojavax.bio.phylo.io.nexus.*;
                    
     import org.jgrapht.*;
     import org.jgrapht.graph.*;
                    
     public class SampleUnweightedAddTree{
                              	
          public static void main(String [] args) throws Exception {	
                              	
               String label = "sample";
               UndirectedGraph<String, DefaultEdge> jg = new SimpleGraph<String, DefaultEdge>(DefaultEdge.class);
               TreesBlock sample_tree = new TreesBlock();
                              
               String v1 = "1";
               String v2 = "p1";
               String v3 = "2";  // parental node for v1 & v2
               String v4 = "3";
               String v5 = "p2";
                                        
               jg.addVertex(v1);
               jg.addVertex(v2);
               jg.addVertex(v3);
               jg.addVertex(v4);
               jg.addVertex(v5);
                                        
               jg.addEdge(v1,v2);
               jg.addEdge(v2,v3);
               jg.addEdge(v2,v5);
               jg.addEdge(v5,v4);
                                                                               
               sample_tree.addTree(label, jg);
                                        
           } // end of main
     }
                              
                              

----


'''addTree (Weighted Tree)'''

The only differnce between weighted and unweithed version of addTree methods is that they use different graph type. For a weighted tree, you should generate a graph as a WeightedGraph as in the following sample code, then use if for a addTree method.

    

     <Sample Code>
                    
     //package NexParser;
                    
     import java.io.*;
     import java.lang.*;
     import java.util.*;
                    
     import org.biojavax.bio.phylo.io.nexus.*;
                    
     import org.jgrapht.*;
     import org.jgrapht.graph.*;
                    
     public class SampleWeightedAddTree{
                    
          public static void main(String [] args) throws Exception {	
                    
               String label = "sample";
               WeightedGraph<String, DefaultWeightedEdge> jg = new SimpleWeightedGraph<String, DefaultWeightedEdge>(DefaultWeightedEdge.class);
               TreesBlock sample_tree = new TreesBlock();
                         
               String v1 = "1";
               String v2 = "p1";
               String v3 = "2";  // parental node for v1 & v2
               String v4 = "3";
               String v5 = "p2";
               String v6 = "4";
               String v7 = "p3";
                                   
               jg.addVertex(v1);
               jg.addVertex(v2);
               jg.addVertex(v3);
               jg.addVertex(v4);
               jg.addVertex(v5);
               jg.addVertex(v6);
               jg.addVertex(v7);
                                   			
               jg.addEdge(v1,v2);
               jg.addEdge(v2,v3);
               jg.addEdge(v4,v5);
               jg.addEdge(v5,v6);
               jg.addEdge(v2,v7);
               jg.addEdge(v7,v5);
                                        
               jg.setEdgeWeight(jg.getEdge(v1,v2), 2.0); 
               jg.setEdgeWeight(jg.getEdge(v2,v3), 3.0); 
               jg.setEdgeWeight(jg.getEdge(v4,v5), 4.0); 
               jg.setEdgeWeight(jg.getEdge(v5,v6), 5.0);  
               jg.setEdgeWeight(jg.getEdge(v2,v7), 6.0); 
               jg.setEdgeWeight(jg.getEdge(v7,v5), 7.0);
                                        	
                                                    
               sample_tree.addTree(label, jg);	
                              		
          } // end of main
     }




----

'''getTreeAsJGraphT (Unweighted Tree)'''


getTreeAsJGraphT is a method which converts a tree from  NewickString type to the graph type in JGraphT. Whereas the Nexus File uses NewickString type for their tree representation, this method converts such NewickString into the graph Object in JGraphT. In that JGraphT has variable tree manipulation methods, this method can be useful when JGraphT is finally included in the BioJava package. getTreeAsJGraphT method also has two different version, each for unweighted and weighted tree. 


     <Sample Code>
     //package NexParser;
                         
     import java.io.*;
     import java.lang.*;
     import java.util.*;
          
     import org.biojavax.bio.phylo.io.nexus.*;
          
     import org.jgrapht.*;
     import org.jgrapht.graph.*;
          
     public class SampleGetTreeAsJgrapht{
               	
          public static void main(String [] args) throws Exception {	
                         	
               String label = "sample";
               String st = "(1, (2, 3))";     
               String test = null;
               UndirectedGraph<String, DefaultEdge> jg = new SimpleGraph<String, DefaultEdge>(DefaultEdge.class);
                         	
               TreesBlock sample_tree = new TreesBlock();
               TreesBlock.NewickTreeString s = new TreesBlock.NewickTreeString();
                    	
               s.setTreeString(st);
               sample_tree.addTree("test", s);
               	
               jg = sample_tree.getTreeAsJGraphT("test");	
                    	
               System.out.println(st);
               System.out.println(jg.toString());
          } // end of main
     }



----

'''getTreeAsJGraphT (Weighted Tree)'''


This is a weighted tree version of getTreeAsJGraphT method. WeightedGraph is used here as in the addTree method for weighted tree.

     <Sample Code>
                    
     //package NexParser;
                    
     import java.io.*;
     import java.lang.*;
     import java.util.*;
               
     import org.biojavax.bio.phylo.io.nexus.*;
               
     import org.jgrapht.*;
     import org.jgrapht.graph.*;
               
     public class SampleGetTreeAsWeightedJgrapht{
                    	
          public static void main(String [] args) throws Exception {	
                    	
               String label = "sample";
               String st = "((1:2.0, 2:3.0):2.0, 3:5.0)";
               String test = null;
               WeightedGraph<String, DefaultWeightedEdge> jg = new SimpleWeightedGraph<String, DefaultWeightedEdge>(DefaultWeightedEdge.class);
                    	
               TreesBlock sample_tree = new TreesBlock();
               TreesBlock.NewickTreeString s = new TreesBlock.NewickTreeString();
                    	
               s.setTreeString(st);
               sample_tree.addTree("test", s);
               	
               jg = sample_tree.getTreeAsWeightedJGraphT("test");	
                    
               System.out.println(st);
               System.out.println(jg.toString());
          } // end of main
     }



----